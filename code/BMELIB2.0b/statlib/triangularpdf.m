function [pdf]=triangularpdf(z,param);% triangularpdf             - triangular probability distribution function (Jan 1,2001)%% Compute the values of the probability distribution% function for a triangular distribution with specified% lower bound, upper bound and mode parameters.%% SYNTAX :%% [pdf]=triangularpdf(z,param);%% INPUT :%% z        n by k   matrix of values for which the probability%                   distribution function must be computed.% param    1 by 3   parameters of the triangular distribution, where :%                   param(1) is the lower bound of the distribution,%                   param(2) is the upper bound of the distribution,%                   param(3) is the mode of the distribution,%                   where param(1)<=param(3)<=param(2).%% OUTPUT :%% pdf      n by k   matrix of values for the probability distribution%                   function computed at the corresponding z values.a=param(1);b=param(2);c=param(3);isvalid=((a<=b)&(c>=a)&(c<=b));if isvalid==0,  error('parameters are not valid');end;if (a==b)&(a==c),  pdf=zeros(size(z));  index=find(z==a);  pdf(index)=Inf;  return;end;if (a~=c)&(b~=c),  cond1=(z>=a)&(z<c);  cond2=(z<=b)&(z>=c);  pdf1=2*(z-a)/((b-a)*(c-a));  pdf2=2*(b-z)/((b-a)*(b-c));  pdf=cond1.*pdf1+cond2.*pdf2;else  if a==c,                     %%% degenerate case : mode is lower bound    cond=(z>=a)&(z<=b);    pdf=2*(b-z)/((b-a).^2);    pdf=cond.*pdf;  end;  if b==c,                     %%% degenerate case : mode is upper bound    cond=(z>=a)&(z<=b);    pdf=2*(z-a)/((b-a).^2);    pdf=cond.*pdf;  end;end;